
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>2. Clinical Corpus &#8212; Anonimización aplicada al ámbito médico</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Entrenamiento" href="03_training.html" />
    <link rel="prev" title="1. Evaluación" href="01_evaluation.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo-serikat.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Anonimización aplicada al ámbito médico</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Introducción
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="01_evaluation.html">
   1. Evaluación
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   2. Clinical Corpus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_training.html">
   3. Entrenamiento
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bibliography.html">
   4. Referencias
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="a.html">
   5. Apéndice
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="a_transfer_learning.html">
     5.1. El concepto de transfer learning en NLP
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="a_training.html">
     5.2. Training
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="a_code.html">
     5.3. Código
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="a_transformers.html">
     5.4. Transformers para NER
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/GuiGel/MedDocAn"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/GuiGel/MedDocAn/issues/new?title=Issue%20on%20page%20%2Fmeddocan/02_data.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/meddocan/02_data.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anotacion">
   2.1. Anotación
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#preparacion-de-los-datos">
   2.2. Preparación de los datos
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Clinical Corpus</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anotacion">
   2.1. Anotación
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#preparacion-de-los-datos">
   2.2. Preparación de los datos
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="clinical-corpus">
<h1><span class="section-number">2. </span>Clinical Corpus<a class="headerlink" href="#clinical-corpus" title="Permalink to this headline">#</a></h1>
<section id="anotacion">
<h2><span class="section-number">2.1. </span><a class="reference external" href="https://github.com/PlanTL-GOB-ES/SPACCC_MEDDOCAN#annotation-tool">Anotación</a><a class="headerlink" href="#anotacion" title="Permalink to this headline">#</a></h2>
<p>El corpus MEDDOCAN es un corpus sintético de casos clínicos enriquecido con expresiones PHI (Información Sanitaria Protegida). El corpus MEDDOCAN, de 1.000 casos clínicos, fue seleccionado manualmente por un médico en ejercicio y enriquecido con frases de PHI por documentalistas sanitarios, añadiendo información de PHI procedente de resúmenes de alta y de historias clínicas de genética médica.
Para llevar a cabo la anotación manual, el equipo construyó las primeras pautas públicas de PHI en español [16], siguiendo las especificaciones derivadas del Reglamento General de Protección de Datos (GDPR) de la UE, así como las pautas y tipos de anotación definidos por las vías de desidentificación de i2b2, basadas en la Ley de Portabilidad y Responsabilidad del Seguro Médico (HIPAA) de Estados Unidos. La elaboración de estas directrices de anotación supuso una retroalimentación activa a lo largo de seis meses por parte de un equipo híbrido de nueve personas con experiencia tanto en sanidad como en PNL, lo que dio como resultado un documento de 28 páginas <a class="footnote-reference brackets" href="#id8" id="id1">1</a> que se ha distribuido junto con el corpus. Junto con las reglas de anotación, se proporcionaron ejemplos ilustrativos para facilitar al máximo la interpretación y el uso de las directrices. El corpus de MEDDOCAN se muestreó aleatoriamente en tres subconjuntos: el conjunto de entrenamiento, que contenía 500 casos clínicos, y los conjuntos de desarrollo y de prueba de 250 casos clínicos cada uno. Estos casos clínicos se anotaron manualmente utilizando una versión personalizada de AnnotateIt <a class="footnote-reference brackets" href="#id9" id="id2">2</a>. A continuación, se utilizó el kit de herramientas de anotación BRAT para corregir los errores y añadir las anotaciones que faltaban, logrando un acuerdo entre anotadores (IAA) del 98% (calculado con 50 documentos). Junto con el conjunto de pruebas, publicaron una colección adicional de 3.501 documentos (conjunto de fondo<a class="footnote-reference brackets" href="#id10" id="id3">3</a> ) para asegurarse de que los equipos participantes no pudieran hacer correcciones manuales y también para promover que estos sistemas fueran potencialmente capaces de escalar a colecciones de datos más grandes. Las directrices de anotación de MEDDOCAN definieron un total de 29 tipos de entidades. <a class="reference internal" href="#true-entity-distribution"><span class="std std-numref">Table 2.1</span></a> resume la lista de tipos de entidad sensibles definidos para la pista de MEDDOCAN y el número de ocurrencias entre los conjuntos de entrenamiento, desarrollo y prueba.</p>
<table class="colwidths-auto table" id="true-entity-distribution">
<caption><span class="caption-number">Table 2.1 </span><span class="caption-text">Distribución del tipo de entidad entre los juegos de datos</span><a class="headerlink" href="#true-entity-distribution" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Tipo</p></th>
<th class="text-align:center head"><p>Train</p></th>
<th class="text-align:center head"><p>Dev</p></th>
<th class="text-align:center head"><p>Test</p></th>
<th class="text-align:center head"><p>Total</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p>TERRITORIO</p></td>
<td class="text-align:center"><p>1875</p></td>
<td class="text-align:center"><p>987</p></td>
<td class="text-align:center"><p>956</p></td>
<td class="text-align:center"><p>3818</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>FECHAS</p></td>
<td class="text-align:center"><p>1231</p></td>
<td class="text-align:center"><p>724</p></td>
<td class="text-align:center"><p>611</p></td>
<td class="text-align:center"><p>2566</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>EDAD SUJETO ASISTENCIA</p></td>
<td class="text-align:center"><p>1035</p></td>
<td class="text-align:center"><p>521</p></td>
<td class="text-align:center"><p>518</p></td>
<td class="text-align:center"><p>2074</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>NOMBRE SUJETO ASISTENCIA</p></td>
<td class="text-align:center"><p>1009</p></td>
<td class="text-align:center"><p>503</p></td>
<td class="text-align:center"><p>502</p></td>
<td class="text-align:center"><p>2014</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>NOMBRE PERSONAL SANITARIO</p></td>
<td class="text-align:center"><p>1000</p></td>
<td class="text-align:center"><p>497</p></td>
<td class="text-align:center"><p>501</p></td>
<td class="text-align:center"><p>1998</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>SEXO SUJETO ASISTENCIA</p></td>
<td class="text-align:center"><p>925</p></td>
<td class="text-align:center"><p>455</p></td>
<td class="text-align:center"><p>461</p></td>
<td class="text-align:center"><p>1841</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>CALLE</p></td>
<td class="text-align:center"><p>862</p></td>
<td class="text-align:center"><p>434</p></td>
<td class="text-align:center"><p>413</p></td>
<td class="text-align:center"><p>1709</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>PAIS</p></td>
<td class="text-align:center"><p>713</p></td>
<td class="text-align:center"><p>347</p></td>
<td class="text-align:center"><p>363</p></td>
<td class="text-align:center"><p>1423</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>ID SUJETO ASISTENCIA</p></td>
<td class="text-align:center"><p>567</p></td>
<td class="text-align:center"><p>292</p></td>
<td class="text-align:center"><p>283</p></td>
<td class="text-align:center"><p>1142</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>CORREO ELECTRONICO</p></td>
<td class="text-align:center"><p>469</p></td>
<td class="text-align:center"><p>241</p></td>
<td class="text-align:center"><p>249</p></td>
<td class="text-align:center"><p>959</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>ID TITULACION PERSONAL SANITARIO</p></td>
<td class="text-align:center"><p>471</p></td>
<td class="text-align:center"><p>226</p></td>
<td class="text-align:center"><p>234</p></td>
<td class="text-align:center"><p>931</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>ID ASEGURAMIENTO</p></td>
<td class="text-align:center"><p>391</p></td>
<td class="text-align:center"><p>194</p></td>
<td class="text-align:center"><p>198</p></td>
<td class="text-align:center"><p>783</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>HOSPITAL</p></td>
<td class="text-align:center"><p>255</p></td>
<td class="text-align:center"><p>140</p></td>
<td class="text-align:center"><p>130</p></td>
<td class="text-align:center"><p>525</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>FAMILIARES SUJETO ASISTENCIA</p></td>
<td class="text-align:center"><p>243</p></td>
<td class="text-align:center"><p>92</p></td>
<td class="text-align:center"><p>81</p></td>
<td class="text-align:center"><p>416</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>INSTITUCION</p></td>
<td class="text-align:center"><p>98</p></td>
<td class="text-align:center"><p>72</p></td>
<td class="text-align:center"><p>67</p></td>
<td class="text-align:center"><p>237</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>ID CONTACTO ASISTENCIAL</p></td>
<td class="text-align:center"><p>77</p></td>
<td class="text-align:center"><p>32</p></td>
<td class="text-align:center"><p>39</p></td>
<td class="text-align:center"><p>148</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>NUMERO TELEFONO</p></td>
<td class="text-align:center"><p>58</p></td>
<td class="text-align:center"><p>25</p></td>
<td class="text-align:center"><p>26</p></td>
<td class="text-align:center"><p>109</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>PROFESION</p></td>
<td class="text-align:center"><p>24</p></td>
<td class="text-align:center"><p>4</p></td>
<td class="text-align:center"><p>9</p></td>
<td class="text-align:center"><p>37</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>NUMERO FAX</p></td>
<td class="text-align:center"><p>15</p></td>
<td class="text-align:center"><p>6</p></td>
<td class="text-align:center"><p>7</p></td>
<td class="text-align:center"><p>28</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>OTROS SUJETO ASISTENCIA</p></td>
<td class="text-align:center"><p>9</p></td>
<td class="text-align:center"><p>6</p></td>
<td class="text-align:center"><p>7</p></td>
<td class="text-align:center"><p>22</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>CENTRO SALUD</p></td>
<td class="text-align:center"><p>6</p></td>
<td class="text-align:center"><p>2</p></td>
<td class="text-align:center"><p>6</p></td>
<td class="text-align:center"><p>14</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>ID EMPLEO PERSONAL SANITARIO</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>1</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>1</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>IDENTIF VEHICULOS NRSERIE PLACAS</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>IDENTIF DISPOSITIVOS NRSERIE</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>NUMERO BENEF PLAN SALUD</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>URL WEB</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>DIREC PROT INTERNET</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>IDENTF BIOMETRICOS</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>OTRO NUMERO IDENTIF</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
</tr>
</tbody>
</table>
<p>El corpus de MEDDOCAN se distribuyó en texto plano en codificación UTF-8, donde cada caso clínico se almacenó como un único archivo, mientras que las anotaciones de PHI se publicaron en el formato BRAT, lo que hace que la visualización de los resultados sea sencilla, como se puede ver en la <a class="reference internal" href="#brat-annotator-visualization"><span class="std std-numref">Figura 2.1</span></a>. Para este tema, también facilitaron un script de conversión<a class="footnote-reference brackets" href="#id11" id="id4">4</a> entre el formato de anotación BRAT y el formato de anotación utilizado por el esfuerzo anterior de i2b2, para facilitar la comparación y adaptación de los sistemas anteriores utilizados para los textos en inglés.</p>
<figure class="align-center" id="brat-annotator-visualization">
<img alt="../_images/meddocan-brat-visualization.png" src="../_images/meddocan-brat-visualization.png" />
<figcaption>
<p><span class="caption-number">Fig. 2.1 </span><span class="caption-text">Un ejemplo de anotación de MEDDOCAN visualizada mediante la interfaz de anotación BRAT</span><a class="headerlink" href="#brat-annotator-visualization" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="preparacion-de-los-datos">
<h2><span class="section-number">2.2. </span>Preparación de los datos<a class="headerlink" href="#preparacion-de-los-datos" title="Permalink to this headline">#</a></h2>
<p>Tras retomar la descripción del corpus por parte de sus autores, veamos con más detalle en qué consiste la preparación de los datos. El corpus MEDDOCAN consiste en casos clínicos escritos en español y enriquecidos manualmente con expresiones PHI. Se considera un número total de <span class="pasted-inline"><code class="output text_plain docutils literal notranslate"><span class="pre">22</span></code></span> categorías PHI que muestran una alta variabilidad de frecuencia <a class="footnote-reference brackets" href="#id12" id="id5">5</a>.
El número calculado de categorías PHI se puede encontrar en la <a class="reference internal" href="#phi-class-statistics"><span class="std std-numref">Figura 2.2</span></a>.</p>
<figure class="align-center" id="phi-class-statistics" style="width: 500px">
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>TRAIN</th>
      <th>TEST</th>
      <th>DEV</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>TERRITORIO</th>
      <td>1875</td>
      <td>956</td>
      <td>987</td>
    </tr>
    <tr>
      <th>FECHAS</th>
      <td>1231</td>
      <td>611</td>
      <td>724</td>
    </tr>
    <tr>
      <th>EDAD_SUJETO_ASISTENCIA</th>
      <td>1035</td>
      <td>518</td>
      <td>521</td>
    </tr>
    <tr>
      <th>NOMBRE_SUJETO_ASISTENCIA</th>
      <td>1009</td>
      <td>502</td>
      <td>503</td>
    </tr>
    <tr>
      <th>NOMBRE_PERSONAL_SANITARIO</th>
      <td>1000</td>
      <td>501</td>
      <td>497</td>
    </tr>
    <tr>
      <th>SEXO_SUJETO_ASISTENCIA</th>
      <td>925</td>
      <td>461</td>
      <td>455</td>
    </tr>
    <tr>
      <th>CALLE</th>
      <td>862</td>
      <td>413</td>
      <td>434</td>
    </tr>
    <tr>
      <th>PAIS</th>
      <td>713</td>
      <td>363</td>
      <td>347</td>
    </tr>
    <tr>
      <th>ID_SUJETO_ASISTENCIA</th>
      <td>567</td>
      <td>283</td>
      <td>292</td>
    </tr>
    <tr>
      <th>ID_TITULACION_PERSONAL_SANITARIO</th>
      <td>471</td>
      <td>234</td>
      <td>226</td>
    </tr>
    <tr>
      <th>CORREO_ELECTRONICO</th>
      <td>469</td>
      <td>249</td>
      <td>241</td>
    </tr>
    <tr>
      <th>ID_ASEGURAMIENTO</th>
      <td>391</td>
      <td>198</td>
      <td>194</td>
    </tr>
    <tr>
      <th>HOSPITAL</th>
      <td>255</td>
      <td>130</td>
      <td>140</td>
    </tr>
    <tr>
      <th>FAMILIARES_SUJETO_ASISTENCIA</th>
      <td>243</td>
      <td>81</td>
      <td>92</td>
    </tr>
    <tr>
      <th>INSTITUCION</th>
      <td>98</td>
      <td>67</td>
      <td>72</td>
    </tr>
    <tr>
      <th>ID_CONTACTO_ASISTENCIAL</th>
      <td>77</td>
      <td>39</td>
      <td>32</td>
    </tr>
    <tr>
      <th>NUMERO_TELEFONO</th>
      <td>58</td>
      <td>26</td>
      <td>25</td>
    </tr>
    <tr>
      <th>PROFESION</th>
      <td>24</td>
      <td>9</td>
      <td>4</td>
    </tr>
    <tr>
      <th>NUMERO_FAX</th>
      <td>15</td>
      <td>7</td>
      <td>6</td>
    </tr>
    <tr>
      <th>OTROS_SUJETO_ASISTENCIA</th>
      <td>9</td>
      <td>7</td>
      <td>6</td>
    </tr>
    <tr>
      <th>CENTRO_SALUD</th>
      <td>6</td>
      <td>6</td>
      <td>2</td>
    </tr>
    <tr>
      <th>ID_EMPLEO_PERSONAL_SANITARIO</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>TOTAL</th>
      <td>11333</td>
      <td>5661</td>
      <td>5801</td>
    </tr>
  </tbody>
</table>
</div></div></div>
<figcaption>
<p><span class="caption-number">Fig. 2.2 </span><span class="caption-text">Las categorías de PHI calculadas a partir de los conjuntos de datos</span><a class="headerlink" href="#phi-class-statistics" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>El preprocesamiento y el formateo aplicados al corpus consistieron en los siguientes pasos (véase <a class="reference internal" href="a_code.html#meddocan-pipeline"><span class="std std-numref">Section 5.3.1</span></a>):</p>
<dl class="simple myst">
<dt><strong>1. División en párrafos</strong></dt><dd><p>Los documentos se dividieron en párrafos utilizando los saltos de línea de los textos originales. Decidimos trabajar con párrafos en lugar de frases porque las frases reales son difíciles de detectar.</p>
</dd>
<dt><strong>2. Tokenization</strong></dt><dd><p>Cada párrafo fue tokenizado utilizando un tokenizador personalizado creado con la biblioteca <code class="docutils literal notranslate"><span class="pre">spaCy</span></code> <a class="footnote-reference brackets" href="#id13" id="id6">6</a> y algunas reglas de tokenización personalizadas adicionales, principalmente para dividir los símbolos de puntuación si no están dentro de una URL, una dirección de correo electrónico o una fecha. Para dividir ciertas palabras con el fin de tener en cuenta los errores de espaciado en el texto original. Por ejemplo, (p. ej. <span class="pasted-text">&quot;'DominguezCorreo' -&gt; ['Dominguez', 'Correo']&quot;</span>).</p>
</dd>
<dt><strong>3. Formato de las etiquetas</strong></dt><dd><p>Las anotaciones con formato Brat de los juegos de datos de entrenamiento y desarrollo se convirtieron en etiquetas a nivel de token siguiendo el esquema <strong>BIO</strong> (Beginning, Inner, Outside). Combinando este esquema de etiquetas con las 22 clases granulares originales de PHI (por ejemplo, para la clase granular <strong>FECHA</strong> tendríamos las etiquetas <strong>B-FECHA</strong>, <strong>I-FECHA</strong>, más la clase genérica <strong>O</strong>) se obtiene un conjunto final de etiquetas de 45 posibles etiquetas únicas.</p>
</dd>
</dl>
<p>Estos 3 pasos se ilustran en <a class="reference internal" href="#id7"><span class="std std-numref">Figure 2.3</span></a>.</p>
<figure class="align-default" id="id7" style="width: 800px">
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Sentence</th>
      <th>Tokens</th>
      <th>Labels</th>
    </tr>
    <tr>
      <th>Idx</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NHC: 368503.\n</td>
      <td>['NHC', ':', '368503', '.', '\n']</td>
      <td>['O', 'O', 'B_ID_SUJETO_ASISTENCIA', 'O', 'O']</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NASS: 26 63514095.\n</td>
      <td>['NASS', ':', '26', '63514095', '.', '\n']</td>
      <td>['O', 'O', 'B_ID_ASEGURAMIENTO', 'I_ID_ASEGURAMIENTO', 'O', 'O']</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Domicilio:  Calle Miguel Benitez 90.\n</td>
      <td>['Domicilio', ':', ' ', 'Calle', 'Miguel', 'Benitez', '90', '.', '\n']</td>
      <td>['O', 'O', 'O', 'B_CALLE', 'I_CALLE', 'I_CALLE', 'I_CALLE', 'O', 'O']</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Localidad/ Provincia: Madrid.\n</td>
      <td>['Localidad', '/', 'Provincia', ':', 'Madrid', '.', '\n']</td>
      <td>['O', 'O', 'O', 'O', 'B_TERRITORIO', 'O', 'O']</td>
    </tr>
  </tbody>
</table>
</div></div></div>
<figcaption>
<p><span class="caption-number">Fig. 2.3 </span><span class="caption-text">Una ilustración de los pasos de preparación de datos</span><a class="headerlink" href="#id7" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Las estadísticas finales, incluyendo el número de documentos, párrafos, tokens, tamaño del vocabulario y entidades PHI para cada uno de los conjuntos de datos del corpus preprocesado, pueden consultarse en la <a class="reference internal" href="#doc-statistics"><span class="std std-numref">Figura 2.4</span></a>.</p>
<figure class="align-default" id="doc-statistics" style="width: 800px">
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>num docs</th>
      <th>num sentences</th>
      <th>num tokens</th>
      <th>vocabulary</th>
      <th>Min token per sentence</th>
      <th>Max token per sentence</th>
      <th>Avg token per sentence</th>
      <th>num PHI</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>TRAIN</th>
      <td>500</td>
      <td>10811</td>
      <td>263963</td>
      <td>22695</td>
      <td>1</td>
      <td>712</td>
      <td>24</td>
      <td>11333</td>
    </tr>
    <tr>
      <th>DEV</th>
      <td>250</td>
      <td>5518</td>
      <td>139400</td>
      <td>15466</td>
      <td>1</td>
      <td>571</td>
      <td>25</td>
      <td>5801</td>
    </tr>
    <tr>
      <th>TEST</th>
      <td>250</td>
      <td>5405</td>
      <td>132698</td>
      <td>14933</td>
      <td>1</td>
      <td>477</td>
      <td>24</td>
      <td>5661</td>
    </tr>
  </tbody>
</table>
</div></div></div>
<figcaption>
<p><span class="caption-number">Fig. 2.4 </span><span class="caption-text">Estadísticas finales de los conjuntos de datos pre-procesados</span><a class="headerlink" href="#doc-statistics" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="id8"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p><a class="reference external" href="https://github.com/PlanTL-GOB-ES/SPACCC_MEDDOCAN/blob/master/guidelines/gu%C3%ADas-de-anotaci%C3%B3n-de-informaci%C3%B3n-de-salud-protegida.pdf">https://github.com/PlanTL-GOB-ES/SPACCC_MEDDOCAN/blob/master/guidelines/guías-de-anotación-de-información-de-salud-protegida.pdf</a></p>
</dd>
<dt class="label" id="id9"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p><a class="reference external" href="https://annotateit.org/">https://annotateit.org/</a></p>
</dd>
<dt class="label" id="id10"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p>El conjunto de datos de referencia incluía los conjuntos de entrenamiento, desarrollo y prueba, y una colección adicional de 2.751 casos clínicos (en total, 3.751 casos clínicos).</p>
</dd>
<dt class="label" id="id11"><span class="brackets"><a class="fn-backref" href="#id4">4</a></span></dt>
<dd><p><a class="reference external" href="https://github.com/PlanTL-SANIDAD/MEDDOCAN-Format-Converter-Script">https://github.com/PlanTL-SANIDAD/MEDDOCAN-Format-Converter-Script</a></p>
</dd>
<dt class="label" id="id12"><span class="brackets"><a class="fn-backref" href="#id5">5</a></span></dt>
<dd><p>El esquema de anotación de MEDDOCAN define 29 tipos de entidad PHI como se muestra en <a class="reference internal" href="#true-entity-distribution"><span class="std std-numref">Table 2.1</span></a>, pero sólo 22 de ellos aparecen realmente en los conjuntos anotados.</p>
</dd>
<dt class="label" id="id13"><span class="brackets"><a class="fn-backref" href="#id6">6</a></span></dt>
<dd><p><a class="reference external" href="https://spacy.io/">https://spacy.io/</a></p>
</dd>
</dl>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./meddocan"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="01_evaluation.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">1. </span>Evaluación</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="03_training.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3. </span>Entrenamiento</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Guillaume Gelabert<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>